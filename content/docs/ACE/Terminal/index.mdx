---
title: ACE 调度系统子终端管理软件
description: 用于处理与主网服务器之间的游戏服务
icon: Server
---

# ACE 调度系统子终端管理软件

<Callout type="info" title="项目概述">
  ACE_Game_Terminal 是一个专为CS2游戏服务器设计的终端调度客户端，负责处理与主网服务器之间的游戏服务，支持自动配置、实时监控和智能资源管理。
</Callout>

## 项目信息

<Cards>
  <Card title="项目名称" icon={<Code />}>
    ACE_Game_Terminal
  </Card>
  <Card title="项目类型" icon={<Gamepad2 />}>
    CS2 游戏服务器终端调度客户端
  </Card>
  <Card title="技术栈" icon={<Zap />}>
    .NET 6.0, SignalR, CoreRCON, WebSocket
  </Card>
  <Card title="部署环境" icon={<Monitor />}>
    Linux 服务器
  </Card>
</Cards>

---

## 核心功能需求

### 2.1 服务器管理功能

#### 2.1.1 服务器配置管理

<Callout type="success" title="自动配置">
  系统具备智能配置能力，首次运行时自动生成配置文件并设置服务器参数。
</Callout>

- **自动配置生成**：首次运行时自动生成 Config.json 配置文件
- **服务器标识**：自动生成唯一的服务器ID和名称
- **网络配置**：自动获取公网IP地址和局域网IP地址
- **端口映射**：根据内网IP自动分配对应的游戏端口
- **服务器类型**：支持竞技、搭档、休闲、死斗等多种游戏模式

#### 2.1.2 游戏服务器启动管理

<Callout type="info" title="服务器启动">
  支持CS2服务器的自动启动和参数配置，确保服务器正常运行。
</Callout>

- **CS2服务器启动**：自动启动CS2专用服务器
- **启动参数配置**：根据服务器类型配置不同的启动参数
- **Steam账户管理**：使用预配置的Steam账户Token
- **服务器状态监控**：实时监控服务器运行状态

### 2.2 网络通信功能

#### 2.2.1 WebSocket连接管理

<Cards>
  <Card title="主网调度服务器连接" icon={<Wifi />}>
    连接到ACE主网调度服务器
  </Card>
  <Card title="自动重连机制" icon={<RefreshCw />}>
    断线后自动重连，支持指数退避策略
  </Card>
  <Card title="连接状态监控" icon={<Activity />}>
    实时监控连接状态并记录日志
  </Card>
  <Card title="服务器注册" icon={<UserPlus />}>
    向主网服务器注册服务器信息
  </Card>
</Cards>

#### 2.2.2 实时通信协议

- **服务器状态上报**：定期向主网服务器上报服务器状态
- **比赛事件处理**：接收和处理比赛相关的事件通知
- **IP地址更新**：动态IP地址变更时自动上报
- **服务器重启指令**：接收并执行服务器重启指令

### 2.3 游戏更新管理

#### 2.3.1 自动更新检测

<Callout type="warn" title="版本更新">
  系统具备自动检测和更新CS2游戏版本的能力，确保服务器运行最新版本。
</Callout>

- **版本检查**：定期检查CS2游戏版本更新
- **Steam API集成**：通过Steam API获取最新版本信息
- **更新状态管理**：跟踪更新进度和状态

#### 2.3.2 更新执行

- **SteamCMD集成**：使用SteamCMD进行游戏文件更新
- **更新进度监控**：监控更新过程并记录日志
- **更新失败重试**：更新失败时自动重试
- **服务器重启**：更新完成后自动重启游戏服务器

### 2.4 服务器状态监控

#### 2.4.1 Steam SDR网络检查

<Cards>
  <Card title="SDR连接验证" icon={<Shield />}>
    检查Steam SDR中继网络连接状态
  </Card>
  <Card title="VAC准入检查" icon={<CheckCircle />}>
    验证服务器VAC准入状态
  </Card>
  <Card title="连接超时处理" icon={<Clock />}>
    60秒内未通过检查则重启服务器
  </Card>
</Cards>

#### 2.4.2 游戏状态监控

- **玩家数量监控**：实时监控服务器内玩家数量
- **服务器状态获取**：通过RCON获取服务器详细状态
- **比赛状态跟踪**：跟踪比赛开始时间和状态

### 2.5 资源回收管理

#### 2.5.1 智能回收机制

<Callout type="error" title="资源回收">
  系统具备智能资源回收功能，在服务器空闲时自动回收资源以提高效率。
</Callout>

- **空闲检测**：检测服务器是否处于空闲状态
- **玩家数量监控**：连续检测确认无玩家在线
- **比赛时间管理**：根据比赛开始时间判断是否回收
- **回收条件**：无玩家且比赛开始超过10分钟

#### 2.5.2 回收执行

- **比赛取消通知**：向主网服务器发送比赛取消通知
- **服务器重启**：回收时重启游戏服务器
- **状态重置**：重置比赛ID和开始时间
- **API通知**：通知相关API回收比赛资源

---

## 技术需求

### 3.1 系统环境要求

<Cards>
  <Card title="操作系统" icon={<Monitor />}>
    Linux (Ubuntu/CentOS)
  </Card>
  <Card title=".NET版本" icon={<Code />}>
    .NET 6.0 或更高版本
  </Card>
  <Card title="网络环境" icon={<Wifi />}>
    稳定的互联网连接
  </Card>
  <Card title="存储空间" icon={<HardDrive />}>
    足够的磁盘空间用于CS2游戏文件
  </Card>
</Cards>

### 3.2 依赖组件

| 组件 | 用途 |
|------|------|
| **CoreRCON** | 用于RCON协议通信 |
| **SignalR Client** | 用于WebSocket连接 |
| **Newtonsoft.Json** | JSON数据处理 |
| **SteamCMD** | Steam游戏文件更新工具 |

### 3.3 网络配置

- **端口配置**：支持27015-27033端口范围
- **防火墙设置**：确保游戏端口和WebSocket端口开放
- **DNS解析**：支持域名解析功能 

---

## 性能需求

### 4.1 响应时间

<Cards>
  <Card title="启动时间" icon={<Zap />}>
    服务器启动时间不超过5分钟
  </Card>
  <Card title="重连时间" icon={<RefreshCw />}>
    断线重连时间不超过30秒
  </Card>
  <Card title="更新检查" icon={<Clock />}>
    版本检查响应时间不超过10秒
  </Card>
</Cards>

### 4.2 稳定性要求

<Callout type="success" title="高可用性">
  系统设计为7x24小时运行，具备自动恢复和错误处理能力。
</Callout>

- **7x24小时运行**：支持持续运行
- **自动恢复**：异常情况下自动恢复服务
- **错误处理**：完善的异常处理和日志记录

### 4.3 资源使用

- **内存使用**：合理控制内存使用量
- **CPU使用**：避免过度占用CPU资源
- **网络带宽**：优化网络通信频率

---

## 安全需求

### 5.1 认证机制

<Cards>
  <Card title="RCON密码" icon={<Lock />}>
    使用安全的RCON密码
  </Card>
  <Card title="API Token" icon={<Key />}>
    使用Bearer Token进行API认证
  </Card>
  <Card title="Steam账户" icon={<User />}>
    使用有效的Steam账户Token
  </Card>
</Cards>

### 5.2 网络安全

<Callout type="warn" title="网络安全">
  系统采用多层安全防护，确保数据传输和访问的安全性。
</Callout>

- **HTTPS通信**：与主网服务器使用HTTPS通信
- **数据加密**：敏感数据传输加密
- **访问控制**：限制不必要的网络访问

---

## 监控和日志

### 6.1 日志记录

<Cards>
  <Card title="详细日志" icon={<FileText />}>
    记录所有重要操作和状态变化
  </Card>
  <Card title="错误日志" icon={<AlertTriangle />}>
    记录异常和错误信息
  </Card>
  <Card title="性能日志" icon={<BarChart3 />}>
    记录性能相关指标
  </Card>
</Cards>

### 6.2 监控指标

- **连接状态**：监控WebSocket连接状态
- **服务器状态**：监控CS2服务器运行状态
- **更新状态**：监控游戏更新进度
- **资源使用**：监控系统资源使用情况

---

## 部署和维护

### 7.1 部署要求

<Callout type="info" title="自动化部署">
  系统支持自动化部署，简化部署流程并提高部署效率。
</Callout>

- **自动化部署**：支持自动化部署脚本
- **配置文件**：支持外部配置文件管理
- **环境变量**：支持环境变量配置

### 7.2 维护功能

<Cards>
  <Card title="远程管理" icon={<Settings />}>
    支持远程重启和管理
  </Card>
  <Card title="状态查询" icon={<Search />}>
    支持远程状态查询
  </Card>
  <Card title="日志查看" icon={<FileText />}>
    支持远程日志查看
  </Card>
</Cards>

---

## 系统架构

<Mermaid
  chart="
graph TD
A[ACE Game Terminal] --> B[服务器管理]
A --> C[网络通信]
A --> D[游戏更新]
A --> E[状态监控]
A --> F[资源回收]

B --> B1[配置管理]
B --> B2[服务器启动]

C --> C1[WebSocket连接]
C --> C2[实时通信]

D --> D1[版本检测]
D --> D2[更新执行]

E --> E1[SDR网络检查]
E --> E2[游戏状态监控]

F --> F1[智能回收]
F --> F2[回收执行]"
/>

---

## 技术栈详情

### 核心技术
- **.NET 6.0** - 主要开发框架
- **SignalR** - 实时通信协议
- **CoreRCON** - RCON协议实现
- **WebSocket** - 网络通信协议

### 集成服务
- **Steam API** - 游戏版本管理
- **SteamCMD** - 游戏文件更新
- **RCON Protocol** - 服务器控制协议

---

*ACE Game Terminal 是一个专为CS2游戏服务器设计的智能调度客户端，具备自动配置、实时监控、智能回收等核心功能，确保游戏服务器的高效运行和资源优化。*
